<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prank</title>
    link rel="icon" type="image/x-icon" href="favicon.png">
    <style>
        :root {
            --primary: #4CAF50;
            --secondary: #2196F3;
            --dark-bg: #121212;
            --card-bg: rgba(30, 30, 30, 0.9);
            --text-light: rgba(255, 255, 255, 0.95);
            --text-dim: rgba(255, 255, 255, 0.7);
        }
        
        body {
            font-family: 'Roboto', sans-serif;
            background: var(--dark-bg);
            color: var(--text-light);
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(76, 175, 80, 0.15) 0%, transparent 40%),
                radial-gradient(circle at 80% 70%, rgba(33, 150, 243, 0.15) 0%, transparent 40%);
            overflow-x: hidden;
        }

        .container {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 24px;
            width: 95%;
            max-width: 500px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            animation: fadeIn 0.6s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h1 {
            color: var(--primary);
            text-align: center;
            margin-bottom: 24px;
            font-size: 1.8rem;
        }

        .input-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: var(--text-dim);
            font-size: 0.95rem;
        }

        input, select {
            width: 100%;
            padding: 12px 16px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            background: rgba(0, 0, 0, 0.3);
            color: var(--text-light);
            font-size: 1rem;
            transition: all 0.3s;
        }

        input:focus, select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(76, 175, 80, 0.3);
        }

        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            width: 100%;
            margin-top: 10px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn:hover {
            background: #43A047;
            transform: translateY(-2px);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn-secondary {
            background: var(--secondary);
        }

        .btn-secondary:hover {
            background: #1E88E5;
        }

        .map-container {
            height: 300px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            margin: 20px 0;
            overflow: hidden;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px dashed var(--text-dim);
        }

        .map-placeholder {
            text-align: center;
            color: var(--text-dim);
            padding: 20px;
        }

        .result {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 16px;
            margin-top: 20px;
            border-left: 4px solid var(--primary);
            display: none;
        }

        .result-title {
            color: var(--primary);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .coordinates {
            font-family: 'Courier New', monospace;
            background: rgba(0, 0, 0, 0.5);
            padding: 8px 12px;
            border-radius: 4px;
            display: inline-block;
            margin-top: 8px;
            font-size: 0.9rem;
        }

        .tab-container {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .tab {
            padding: 12px 20px;
            cursor: pointer;
            color: var(--text-dim);
            font-weight: 500;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }

        .tab.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        @media (max-width: 480px) {
            .container {
                padding: 16px;
            }
            h1 {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Joylashuvni Aniqlash</h1>
        
        <div class="tab-container">
            <div class="tab active" data-tab="search">Qidirish</div>
            <div class="tab" data-tab="custom">.</div>
        </div>
        
        <div class="tab-content active" id="search">
            <div class="input-group">
                <label for="phone">Telefon raqami:</label>
                <input type="text" id="phone" placeholder="+998 (XXX) XX XX">
            </div>
            
            <button class="btn" id="searchBtn">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8"></circle>
                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
                Joylashuvni topish
            </button>
            
            <div class="map-container" id="map">
                <div class="map-placeholder">
                    Raqamni kiriting va "Qidirish" tugmasini bosing.
                </div>
            </div>
            
            <div class="result" id="result">
                <div class="result-title">Topilgan manzil:</div>
                <div id="address">Toshkent shahri, Yunusobod tumani, 5-kvartal</div>
                <div class="coordinates" id="coordinates">41.311081, 69.240562</div>
            </div>
        </div>
        
        <div class="tab-content" id="custom">
            <div class="input-group">
                <label for="customPhone">Telefon raqami:</label>
                <input type="text" id="customPhone" placeholder="+998 (XXX) XX XX" required>
            </div>
            
            <div class="input-group">
                <label for="customAddress">Manzil:</label>
                <input type="text" id="customAddress" placeholder="Toshkent shahri, Chilonzor tumani" required>
            </div>
            
            <div class="input-group">
                <label for="customCoords">Koordinatalar (latitude, longitude):</label>
                <input type="text" id="customCoords" placeholder="41.311081, 69.240562" required>
            </div>
            
            <button class="btn btn-secondary" id="saveCustomBtn">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path>
                </svg>
                Saqlash
            </button>
            
            <div class="map-container" id="customMap">
                <div class="map-placeholder">
                    Telefon raqam va manzilni kiriting
                </div>
            </div>
        </div>
    </div>

    <script>
        // Хранилище для пользовательских адресов
        const customLocations = {};
        
        // DOM элементы
        const tabs = document.querySelectorAll('.tab');
        const tabContents = document.querySelectorAll('.tab-content');
        const searchBtn = document.getElementById('searchBtn');
        const saveCustomBtn = document.getElementById('saveCustomBtn');
        const phoneInput = document.getElementById('phone');
        const resultDiv = document.getElementById('result');
        const addressDiv = document.getElementById('address');
        const coordsDiv = document.getElementById('coordinates');
        const mapDiv = document.getElementById('map');
        const customPhone = document.getElementById('customPhone');
        const customAddress = document.getElementById('customAddress');
        const customCoords = document.getElementById('customCoords');
        const customMapDiv = document.getElementById('customMap');

        // Переключение вкладок
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                tabs.forEach(t => t.classList.remove('active'));
                tabContents.forEach(c => c.classList.remove('active'));
                
                tab.classList.add('active');
                document.getElementById(tab.dataset.tab).classList.add('active');
            });
        });

        // Поиск геолокации
        searchBtn.addEventListener('click', () => {
            const phone = phoneInput.value.trim();
            
            if (!phone) {
                alert("Iltimos, telefon raqamini kiriting!");
                return;
            }
            
            // Проверяем сохраненные адреса
            if (customLocations[phone]) {
                const loc = customLocations[phone];
                showResult(loc.address, loc.coords);
                return;
            }
            
            // Имитация поиска
            searchBtn.innerHTML = `
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="spin">
                    <path d="M21 12a9 9 0 1 1-6.219-8.56"></path>
                </svg>
                Izlanmoqda...
            `;
            
            // Случайные результаты (если номер не сохранен)
            setTimeout(() => {
                const locations = [
                    { address: "Toshkent shahri, Yunusobod tumani, 5-kvartal", coords: "41.311081, 69.240562" },
                    { address: "Toshkent shahri, Chilonzor tumani, 9-kvartal", coords: "41.289469, 69.203925" },
                    { address: "Samarqand shahri, Registon ko'chasi", coords: "39.654950, 66.975143" },
                    { address: "Buxoro shahri, Labi Hovuz", coords: "39.773455, 64.414618" },
                    { address: "Farg'ona shahri, Navoiy ko'chasi", coords: "40.379470, 71.786873" }
                ];
                
                const randomLocation = locations[Math.floor(Math.random() * locations.length)];
                showResult(randomLocation.address, randomLocation.coords);
                
                searchBtn.innerHTML = `
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"></circle>
                        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                    </svg>
                    Joylashuvni topish
                `;
            }, 2000);
        });

        // Сохранение пользовательского адреса
        saveCustomBtn.addEventListener('click', () => {
            const phone = customPhone.value.trim();
            const address = customAddress.value.trim();
            const coords = customCoords.value.trim();
            
            if (!phone || !address || !coords) {
                alert("Iltimos, barcha maydonlarni to'ldiring!");
                return;
            }
            
            // Сохраняем
            customLocations[phone] = { address, coords };
            
            // Показываем на карте
            customMapDiv.innerHTML = `
                <div style="width:100%;height:100%;background:#000;display:flex;align-items:center;justify-content:center;color:white;">
                    <div style="text-align:center;padding:20px;">
                        <div style="color:var(--secondary);margin-bottom:5px;">${phone}</div>
                        <div style="font-size:1.2rem;margin-bottom:10px;">${address}</div>
                        <div style="color:var(--primary);font-family:monospace;">${coords}</div>
                    </div>
                </div>
            `;
            
            alert(`${phone} raqami uchun manzil saqlandi!`);
        });

        // Показать результат
        function showResult(address, coords) {
            addressDiv.textContent = address;
            coordsDiv.textContent = coords;
            resultDiv.style.display = 'block';
            
            mapDiv.innerHTML = `
                <div style="width:100%;height:100%;background:#000;display:flex;align-items:center;justify-content:center;color:white;">
                    <div style="text-align:center;padding:20px;">
                        <div style="font-size:1.2rem;margin-bottom:10px;">${address}</div>
                        <div style="color:var(--primary);font-family:monospace;">${coords}</div>
                    </div>
                </div>
            `;
        }

        // CSS для анимации загрузки
        const style = document.createElement('style');
        style.textContent = `
            @keyframes spin {
                from { transform: rotate(0deg); }
                to { transform: rotate(360deg); }
            }
            .spin {
                animation: spin 1s linear infinite;
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
